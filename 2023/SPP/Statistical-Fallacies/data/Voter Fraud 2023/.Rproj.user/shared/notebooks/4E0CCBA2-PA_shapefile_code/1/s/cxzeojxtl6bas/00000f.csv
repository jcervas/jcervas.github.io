"0","# Precinct centroids and cross County matching lines creation"
"0",""
"0","Precinct_Centroid <- rbind(st_transform(Precinct_Exterior, crs = CRS), st_transform(Precinct_Interior, crs = CRS)) %>% "
"0","  dplyr::select(GEOID, geometry) %>%"
"0","  mutate(geometry = st_point_on_surface(geometry)) # Convert border precinct shapes into centroids"
"0",""
"0","df <- Precinct_Match_Data %>% # Adding centroid data to data frame of matching precincts"
"0","  left_join(Precinct_Centroid, by = c(""Precinct1"" = ""GEOID"")) %>% "
"0","  left_join(Precinct_Centroid, by = c(""Precinct2"" = ""GEOID""))"
"0","mach_lines <- st_sfc(mapply(function(a,b){st_cast(st_union(a,b),""LINESTRING"")}, # Create lines spanning between precinct pairs"
"0","                                df$geometry.x, df$geometry.y, SIMPLIFY=FALSE), crs = CRS)"
"0",""
"0","plot_PA_Precinct_mach_lines <- ggplot() +"
"0","  geom_sf(data = Precinct_Exterior, color = ""black"", fill = ""gray90"") +"
"0","  geom_sf(data = Precinct_Interior, color = ""black"", fill = ""gray80"") +"
"0","  geom_sf(data = subset(us_county, GEOID == County_GEOID), color = ""red"", fill = NA) +"
"0","  geom_sf(data = mach_lines, color = ""blue"", fill = ""gray90"") +"
"0","  geom_sf(data = Precinct_Centroid, color = ""black"", fill = ""gray90"") +"
"0","  coord_sf()+"
"0","  theme_void()+"
"0","  scale_fill_viridis(discrete = TRUE)+"
"0","  ggtitle(""Allegheny"")+"
"0","  theme(legend.position = ""none"")"
"0",""
"0","plot_PA_Precinct_mach_lines"
