<style>


.subunit.SCT { fill: #ddc; }
.subunit.WLS { fill: #cdd; }
.subunit.NIR { fill: #cdc; }
.subunit.ENG { fill: #dcd; }

.subunit.IRL,
.subunit-label.IRL {
  display: none;
}

.subunit-boundary {
  fill: none;
  stroke: #777;
  stroke-dasharray: 2,2;
  stroke-linejoin: round;
}

.subunit-boundary.IRL {
  stroke: #aaa;
}

.subunit-label {
  fill: #777;
  fill-opacity: .5;
  font-size: 20px;
  font-weight: 300;
  text-anchor: middle;
}

.place,
.place-label {
  fill: #444;
}

text {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 10px;
  pointer-events: none;
}


</style>
	

	<svg viewBox="0 0 900 600" stroke-linejoin="round" stroke-linecap="round" preserveAspectRatio="xMidYMin slice" style="width: 100%; padding-bottom: 50%; overflow: visible">
  		<defs>
    		<filter id="blur">
      			<feGaussianBlur stdDeviation="5"></feGaussianBlur>
    		</filter>
  		</defs>
	</svg>

	
	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script src="https://d3js.org/topojson.v2.min.js"></script>
	<script>
		var svg = d3.select("svg");
		var defs = svg.select("defs");
		var path = d3.geoPath();
		var subunits = topojson.feature(us, us.objects.states)
	d3.json("https://d3js.org/us-10m.v1.json", function(error, us) {
	  if (error) throw error;
	  defs.append("path")
		  .attr("id", "nation")
		  .attr("d", path(topojson.feature(us, us.objects.nation)));
	  svg.append("use")
		  .attr("xlink:href", "#nation")
		  .attr("fill-opacity", 0.2)
		  .attr("filter", "url(#blur)");
	  svg.append("use")
		  .attr("xlink:href", "#nation")
		.attr("fill-opacity", 0.5)
		  .attr("fill", "#4E4E4E");
	  // svg.append("path")
		 //  .attr("fill", "none")
		 //  .attr("stroke", "#343434")
		 //  .attr("stroke-width", 0.35)
		 //  .attr("d", path(topojson.mesh(us, us.objects.counties, function(a, b) { return (a.id / 1000 | 0) === (b.id / 1000 | 0); })));
	  svg.append("path")
		  .attr("fill", "none")
		  .attr("stroke", "#343434")
		  .attr("stroke-width", 0.70)
		  .attr("d", path(topojson.mesh(us, us.objects.states, function(a, b) { return a !== b; })));
	  svg.selectAll(".subunit")
		.data(topojson.feature(us, us.objects.states).features)
		.enter().append("path")
		.attr("class", function(d) { return "states " + d.id; })
		.attr("d", path);
	  

	});
	</script>
